<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>php常用的框架 | 只非鱼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="只非鱼,hjq,只非鱼博客" />
  
  <meta name="description" content="zend Framework YII 外企用得挺多的 Symfony Laravel CodeIgniter 简称CI ThinkPHP  一、fetch模板内容获取123456display() ==&amp;gt; 展示模板fetch()   ==&amp;gt; 获取模板（有返回值）==&amp;gt; echo 将结果输出;打印输出：echo &amp;apos;&amp;lt;pre&amp;gt;&amp;apos;;var_dump($">
<meta name="keywords" content="PHP">
<meta property="og:type" content="article">
<meta property="og:title" content="php常用的框架">
<meta property="og:url" content="https://jqhee.github.io/2018/05/09/PHP/PHP市面上常用的框架/index.html">
<meta property="og:site_name" content="只非鱼">
<meta property="og:description" content="zend Framework YII 外企用得挺多的 Symfony Laravel CodeIgniter 简称CI ThinkPHP  一、fetch模板内容获取123456display() ==&amp;gt; 展示模板fetch()   ==&amp;gt; 获取模板（有返回值）==&amp;gt; echo 将结果输出;打印输出：echo &amp;apos;&amp;lt;pre&amp;gt;&amp;apos;;var_dump($">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-14T02:27:01.491Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="php常用的框架">
<meta name="twitter:description" content="zend Framework YII 外企用得挺多的 Symfony Laravel CodeIgniter 简称CI ThinkPHP  一、fetch模板内容获取123456display() ==&amp;gt; 展示模板fetch()   ==&amp;gt; 获取模板（有返回值）==&amp;gt; echo 将结果输出;打印输出：echo &amp;apos;&amp;lt;pre&amp;gt;&amp;apos;;var_dump($">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">只非鱼博客</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>首页</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>档案</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        只非鱼博客
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        一个专注 全栈 开发的技术博客
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="首页"  href="//jqhee.github.io">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/JQHee">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="微博" target="_blank" href="//weibo.com/u/3173517645">
                            <i class="fa fa-weibo fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-PHP/PHP市面上常用的框架" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      php常用的框架
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/PHP/">PHP</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2018-05-09
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <ol>
<li>zend Framework</li>
<li>YII 外企用得挺多的</li>
<li>Symfony</li>
<li>Laravel</li>
<li>CodeIgniter 简称CI</li>
<li>ThinkPHP</li>
</ol>
<h1 id="一、fetch模板内容获取"><a href="#一、fetch模板内容获取" class="headerlink" title="一、fetch模板内容获取"></a>一、fetch模板内容获取</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">display() ==&gt; 展示模板</span><br><span class="line">fetch()   ==&gt; 获取模板（有返回值）==&gt; echo 将结果输出;</span><br><span class="line">打印输出：</span><br><span class="line">echo &apos;&lt;pre&gt;&apos;;</span><br><span class="line">var_dump($);</span><br><span class="line">dump($内容);</span><br></pre></td></tr></table></figure>
<h1 id="二、模板的注释"><a href="#二、模板的注释" class="headerlink" title="二、模板的注释"></a>二、模板的注释</h1><p>普通HTML的注释会被输出 <!--普通的注释--><br>ThinkPHP中的注释不会被输出：</p>
<ul>
<li>行注释: {// 注释的内容}</li>
<li>块注释: {/<em> 块注释内容</em>/}</li>
</ul>
<h1 id="三、模板输出对象的属性值-不推荐用点形式-val-id"><a href="#三、模板输出对象的属性值-不推荐用点形式-val-id" class="headerlink" title="三、模板输出对象的属性值 (不推荐用点形式{$val.id})"></a>三、模板输出对象的属性值 (不推荐用点形式{$val.id})</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;$val : id&#125;</span><br><span class="line">&#123;$val -&gt; id&#125;</span><br></pre></td></tr></table></figure>
<h1 id="四、系统变量"><a href="#四、系统变量" class="headerlink" title="四、系统变量"></a>四、系统变量</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$Think.server = $_SEVER</span><br><span class="line">$Think.get = $_GET</span><br><span class="line">$Think.post = $_POST</span><br><span class="line">$Think.request</span><br><span class="line">$Think.cookie</span><br><span class="line">$Think.session = $_SESSION</span><br><span class="line">$Think.config</span><br></pre></td></tr></table></figure>
<h1 id="五、视图中的函数"><a href="#五、视图中的函数" class="headerlink" title="五、视图中的函数"></a>五、视图中的函数</h1><p>语法:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;$变量|函数名1|函数名2=参数1,参数2...&#125;</span><br></pre></td></tr></table></figure></p>
<p>参数说明：<br>|:变量修饰名<br>例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">时间戳的格式化 &#123;$time|date=&apos;Y-m-d H:i:s&apos;,###&#125;</span><br><span class="line">// 第一个参数是自己，可以省略=###</span><br><span class="line">截取字符串，再转成大写 &#123;$val|substr=###,0,5|strtoupper&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="六、默认值"><a href="#六、默认值" class="headerlink" title="六、默认值"></a>六、默认值</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;$val|default=&apos;默认值&apos;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="七、文件的包含"><a href="#七、文件的包含" class="headerlink" title="七、文件的包含"></a>七、文件的包含</h1><p>把网站的公共部分 如头部、尾部、等部分，单独的存放到一个文件中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 路径相对于入口文件</span><br><span class="line">&lt;inclue file=&apos;Application/Public/Admin/Html/需要引入的模板文件&apos;&gt;</span><br><span class="line">// 简写，不需要后缀名</span><br><span class="line">&lt;inclue file=&apos;需要引入的模板文件&apos;/&gt;</span><br><span class="line">&lt;inclue file=&apos;Test/head&apos;/&gt;</span><br><span class="line"></span><br><span class="line">// 可以用来传值给模板</span><br><span class="line">&lt;inclue file=&apos;Test/head&apos; 参数名=参数值/&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="八、循环遍历"><a href="#八、循环遍历" class="headerlink" title="八、循环遍历"></a>八、循环遍历</h1><ul>
<li>Volist</li>
<li>foreach<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 视图中遍历</span><br><span class="line">&lt;volist name=&apos;需要遍历的模板遍历名&apos;, id=&apos;当前遍历到的值&apos;&gt; </span><br><span class="line"></span><br><span class="line">&lt;/volist&gt;</span><br><span class="line"></span><br><span class="line">&lt;foreach name=&apos;需要遍历的模板遍历名&apos;, item=&apos;当前遍历到的值&apos;&gt; </span><br><span class="line"></span><br><span class="line">&lt;/foreach&gt;</span><br><span class="line"></span><br><span class="line">// php中的循环体</span><br><span class="line">foreach ($variable as $key =&gt; $value) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 一维数组的遍历</span><br><span class="line">// 二维数组的遍历</span><br></pre></td></tr></table></figure>
<h1 id="九、if-标签"><a href="#九、if-标签" class="headerlink" title="九、if 标签"></a>九、if 标签</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// if 标签的语法格式：</span><br><span class="line">&lt;if condition=&apos;表达式一&apos;&gt;</span><br><span class="line">&lt;elseif condition=&apos;表达式二&apos;/&gt;</span><br><span class="line">&lt;else/&gt;</span><br><span class="line">&lt;/if&gt;</span><br></pre></td></tr></table></figure>
<h1 id="十、php标签"><a href="#十、php标签" class="headerlink" title="十、php标签"></a>十、php标签</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php echo=&apos;&apos;?&gt;</span><br><span class="line">&lt;php&gt;echo &apos;输出&apos;;&lt;/php&gt;</span><br></pre></td></tr></table></figure>
<h1 id="十一、模型的实例化"><a href="#十一、模型的实例化" class="headerlink" title="十一、模型的实例化"></a>十一、模型的实例化</h1><ol>
<li><p>D方法实例化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$obj = D([&apos;模型名&apos;]);</span><br><span class="line">表达的含义：实例化我们自己创建的模型（分组/Model目录中）如果传递了模型名。则实例化指定的模型，如果没有指定或者模型名不存在，则直接实例化父类模型（Model.class.php）</span><br></pre></td></tr></table></figure>
</li>
<li><p>M方法实例化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$obj = M([&apos;不带前缀的表名&apos;]);</span><br><span class="line">表达的含义：实例化父类的模型（Thinkphp目录中的Model.class）,如果指定了表名，则实例化父类模型的时候关联指定的表，如果指定的表名（没传递参数）则不关联表，一般用于执行原生的sql语句。</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="十二、第三天"><a href="#十二、第三天" class="headerlink" title="十二、第三天"></a>十二、第三天</h1><h4 id="1-跟踪信息"><a href="#1-跟踪信息" class="headerlink" title="1.跟踪信息"></a>1.跟踪信息</h4><p>借助开发工具： 如浏览器自带的<code>审查元素</code></p>
<p>Sql调试： $model -&gt; getLastSql(); =&gt; thinkphp 3.2之后 $model -&gt; _sql();</p>
<p>性能调试（了解）：快速方法<code>G</code>方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 开始标志</span><br><span class="line">G(&apos;start&apos;);</span><br><span class="line"></span><br><span class="line">// 耗时代码 如：大循环</span><br><span class="line"></span><br><span class="line">// 结束标志</span><br><span class="line">G(&apos;stop&apos;);</span><br><span class="line">// 统计的时间 默认是4</span><br><span class="line">echo G(&apos;start&apos;,&apos;stop&apos;, 4);</span><br></pre></td></tr></table></figure>
<h4 id="2-AR模式"><a href="#2-AR模式" class="headerlink" title="2.AR模式"></a>2.AR模式</h4><p>AR: Active Record ,是一个对象-关系映射（ORM）技术，每个AR类代表一张数据表（或视图），数据表（或视图）的字段在AR类中体现为类的属性，一个AR实例则表示表中的一行。</p>
<ul>
<li>AR类 ===&gt; 表</li>
<li>AR类属性 ===&gt; 表的字段</li>
<li>AR类的实例 ===&gt; 表的记录<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AR模式在ThinkPHP中的典型应用，CURD操作</span><br><span class="line">// 实例化模型</span><br><span class="line">$model = M(&apos;关联的表&apos;)； =&gt; AR类</span><br><span class="line">$model -&gt; 属性/表中字段 = 字段值</span><br><span class="line"></span><br><span class="line">// AR实例（操作）映射到表中的记录</span><br><span class="line">$model -&gt; CURD操作，没有参数</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  举例<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 第一个映射： 类映射表（类关联表）</span><br><span class="line">$model = M(&apos;Dept&apos;);</span><br><span class="line">// 第二个映射： 属性映射字段</span><br><span class="line">$model -&gt; name = &apos;技术部&apos;;</span><br><span class="line">$model -&gt; pid = &apos;0&apos;;</span><br><span class="line">...</span><br><span class="line">// 第三个映射：实例映射记录</span><br><span class="line"> $model -&gt; add(); // add()不需要参数</span><br></pre></td></tr></table></figure></p>
<p>  补充说明：<code>在AR模式中U、D操作必须指定主键信息，但是有一种情况可以不指定主键执行U、D操作，在之前有做过查询语句，则后面没有指定主键，会操作当前查到的记录</code></p>
<h4 id="3-辅助方法"><a href="#3-辅助方法" class="headerlink" title="3.辅助方法"></a>3.辅助方法</h4><ul>
<li>limit</li>
<li>order<br>…</li>
</ul>
<h4 id="4-统计查询"><a href="#4-统计查询" class="headerlink" title="4.统计查询"></a>4.统计查询</h4><ul>
<li>count() - 表示查询表中总的记录数</li>
<li>max(‘id’)   - 表示查询某个字段的最大值</li>
<li>min(‘id’)   - 表示查询某个字段的最小值</li>
<li>avg(‘id’)   - 表示查询某个字段的平均值</li>
<li>sum(‘id’)   - 表示查询某个字段的总和</li>
</ul>
<h4 id="5-fetchSql拓展"><a href="#5-fetchSql拓展" class="headerlink" title="5.fetchSql拓展"></a>5.fetchSql拓展</h4><p>getLastSql() 只能调试逻辑错误<br>fetchSql(true) 调试语法错误 注意只能在ThinkPHP3.2.3之后的版本使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$model -&gt; where -&gt; limit()..-&gt; order() -&gt; fetchSql(true) -&gt; CURD操作</span><br></pre></td></tr></table></figure></p>
<h4 id="6-部门的管理（组织结构）"><a href="#6-部门的管理（组织结构）" class="headerlink" title="6.部门的管理（组织结构）"></a>6.部门的管理（组织结构）</h4><p>1.设计二级导航效果<br>在ThinkPHP可以使用I(快速方法)接收任何的参数，并且系统自动sql防注入的方法（使用php内置方法htmlspecialchars）</p>
<h4 id="7-文件自动载入"><a href="#7-文件自动载入" class="headerlink" title="7.文件自动载入"></a>7.文件自动载入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 第一种</span><br><span class="line">load(&apos;@/tree&apos;);</span><br><span class="line"></span><br><span class="line">// 第二种</span><br><span class="line">function.php会自动载入</span><br><span class="line"></span><br><span class="line">// 第三种</span><br><span class="line">//动态加载文件，配置文件中配置</span><br><span class="line">&apos;LOAD_EXT_FILE&apos;         =&gt;  &apos;tree&apos;, </span><br><span class="line">//包含文件名的字符串，多个文件名之间使用英文半角逗号分割</span><br></pre></td></tr></table></figure>
<h1 id="十三、第四天"><a href="#十三、第四天" class="headerlink" title="十三、第四天"></a>十三、第四天</h1><h4 id="1-数据对象的创建"><a href="#1-数据对象的创建" class="headerlink" title="1.数据对象的创建"></a>1.数据对象的创建</h4><p>$model -&gt; create(); 如果不传值，默认取$_POST中的数据</p>
<h1 id="十四、第五天"><a href="#十四、第五天" class="headerlink" title="十四、第五天"></a>十四、第五天</h1><p>主要内容：分页类、联表查询、hightCharts(国外)，echarts(百度开源)</p>
<h4 id="1-分页类的基本用法-可以参考手册"><a href="#1-分页类的基本用法-可以参考手册" class="headerlink" title="1.分页类的基本用法(可以参考手册)"></a>1.分页类的基本用法(可以参考手册)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$User = M(&apos;User&apos;); // 实例化User对象</span><br><span class="line">$count      = $User-&gt;count();// 查询满足要求的总记录数</span><br><span class="line">$Page       = new \Think\Page($count,1);// 实例化分页类 传入总记录数和每页显示的记录数(25)</span><br><span class="line"></span><br><span class="line">$Page -&gt; lastSuffix = FALSE;</span><br><span class="line">$Page -&gt; rollPage = 5;</span><br><span class="line">// 可选参数位置</span><br><span class="line">$Page -&gt;setConfig(&apos;prev&apos;, &apos;上一页&apos;);</span><br><span class="line">$Page -&gt;setConfig(&apos;next&apos;, &apos;下一页&apos;);</span><br><span class="line">$Page -&gt;setConfig(&apos;first&apos;, &apos;首页页&apos;);</span><br><span class="line">$Page -&gt;setConfig(&apos;last&apos;, &apos;末页&apos;);</span><br><span class="line"></span><br><span class="line">$show       = $Page-&gt;show();// 分页显示输出</span><br><span class="line">// 进行分页数据查询 注意limit方法的参数要使用Page类的属性</span><br><span class="line">$data = $User-&gt;order(&apos;addtime&apos;)-&gt;limit($Page-&gt;firstRow.&apos;,&apos;.$Page-&gt;listRows)-&gt;select();</span><br><span class="line">$this-&gt;assign(&apos;data&apos;,$data);// 赋值数据集</span><br><span class="line">$this-&gt;assign(&apos;page&apos;,$show);// 赋值分页输出</span><br><span class="line">$this-&gt;display(); // 输出模板</span><br></pre></td></tr></table></figure>
<h4 id="2-联表查询"><a href="#2-联表查询" class="headerlink" title="2.联表查询"></a>2.联表查询</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$model = M();</span><br><span class="line">// 联表查询 (自联查询)</span><br><span class="line">$sql = &apos;select t1.*, t2.name as deptname from sp_dept as t1 left join sp_dept as t2 on t1.pid = t2.id;&apos;;</span><br><span class="line">$data = $model -&gt;query($sql);</span><br><span class="line"></span><br><span class="line">$model = M(&apos;Dept&apos;);</span><br><span class="line">$data = $model -&gt; field(&apos;t1.*, t2.name as deptname&apos;) </span><br><span class="line">        -&gt; alias(&apos;t1&apos;) </span><br><span class="line">        -&gt; join(&apos;left join sp_dept as t2 on t1.pid = t2.id&apos;) </span><br><span class="line">        -&gt; select();</span><br><span class="line"></span><br><span class="line">$model = M();</span><br><span class="line">$data = $model -&gt; field(&apos;t1.*, t2.name as deptname&apos;) </span><br><span class="line">        -&gt;table(&apos;sp_dept as t1&apos;) </span><br><span class="line">        -&gt; join(&apos;left join sp_dept as t2 on t1.pid = t2.id&apos;) </span><br><span class="line">        -&gt; select();</span><br></pre></td></tr></table></figure>
<h4 id="3-报表的使用-hightcharts"><a href="#3-报表的使用-hightcharts" class="headerlink" title="3.报表的使用(hightcharts)"></a>3.报表的使用(hightcharts)</h4><p>官网地址：<a href="https://www.highcharts.com" target="_blank" rel="noopener">https://www.highcharts.com</a></p>
<h1 id="十五、第六天"><a href="#十五、第六天" class="headerlink" title="十五、第六天"></a>十五、第六天</h1><p>百度： UEeditor/UMeditor<br><a href="http://ueditor.baidu.com/website/" target="_blank" rel="noopener">http://ueditor.baidu.com/website/</a></p>
<p>国外：CKedit</p>
<p>layer(jq的插件美化弹窗):<br><a href="http://layer.layui.com" target="_blank" rel="noopener">http://layer.layui.com</a></p>
<p>因为存储到数据表中的html标签被编码了，字符还原：<code>htmlspecicalchars_decode</code>方法</p>
<p>关于使用UE的几个方法</p>
<ul>
<li>1.方式sql注入和xss：光通过I方法解决不了，在后面我们会使用一个插件<code>htmlpurifier</code>来指定标签进行过滤；</li>
<li>2.关于UE表情的使用，这个功能需要联网</li>
<li>3.关于图片上传，该功能需要配置，配置文件中在ue/php/config.json指定上传的路径</li>
</ul>
<h1 id="十五、第七天"><a href="#十五、第七天" class="headerlink" title="十五、第七天"></a>十五、第七天</h1><p>邮件：站内信<br>分为以下几个组成部分：</p>
<ul>
<li>邮件发送</li>
<li>邮件收件箱</li>
<li>邮件发件箱</li>
</ul>
<h4 id="1-拓展-gt-空操作"><a href="#1-拓展-gt-空操作" class="headerlink" title="1.拓展 -&gt; 空操作"></a>1.拓展 -&gt; 空操作</h4><p>空操作指系统在找不到指定操作方法的时候，会定位到空操作方法来执行（针对控制器也是如此）利用这个机制，我们可以实现错误页面和一些URL的优化</p>
<p>关于空操作的说明：<br>1.空操作方法：控制器中可以定义一个操作方法的名字_empty();<br>2.空操作控制器，在tp中可以定义一个空的控制器，当指定的控制器找不到，则会去访问空的控制器，空的控制器名字EmptyController.class.php</p>
<h4 id="2-jquery-中ajax回顾"><a href="#2-jquery-中ajax回顾" class="headerlink" title="2.jquery 中ajax回顾"></a>2.jquery 中ajax回顾</h4><p>常见的方法 ：<code>get post ajax getJson(解决跨域的时候使用）</code></p>
<p>1.$.get(url,[callback],[type])<br>参数说明：</p>
<ul>
<li>url: 必须的参数，表示请求的地址</li>
<li>callback: 可选参数，回调方法</li>
<li>type: 希望请求成功返回数据的类型： json 、xml 、text 、html</li>
</ul>
<p>2.$.post(url,[data],[callback],[type])<br>参数说明：</p>
<ul>
<li>url: 必须的参数，表示请求的地址</li>
<li>data: 请求参数</li>
<li>callback: 可选参数，回调方法</li>
<li>type: 希望请求成功返回数据的类型： json 、xml 、text 、html</li>
</ul>
<p>3.$.ajax(json)<br>参数说明：</p>
<ul>
<li>json: 参数只有一个json</li>
</ul>
<h1 id="十六、第八天"><a href="#十六、第八天" class="headerlink" title="十六、第八天"></a>十六、第八天</h1><h4 id="1-翻墙："><a href="#1-翻墙：" class="headerlink" title="1.翻墙："></a>1.翻墙：</h4><p>用户没有登录，通过指定的路径就能查看后台的页面</p>
<h4 id="2-RBCA"><a href="#2-RBCA" class="headerlink" title="2.RBCA"></a>2.RBCA</h4><p>一般有两种权限管理方式：</p>
<ul>
<li><p>1.传统权限分配方式 ： 将权限和用户挂钩</p>
</li>
<li><p>2.RBCA(基于用户组)</p>
<ul>
<li>2.1 基于表结构RBCA</li>
<li>2.2 基于文件结构RBCA<br>说明：两者的差异就在数据的存储位置，前者是存储在数据表中（3表、5表）,<br>后者是将数据存储在文件中。不管是前者还是后者原理都是一样的。<br>基于数据表形式：优点是在后期数据维护上方便，有界面操作数据表，但不易理解。<br>基于文件结构的形式：优点在于简单容易理解，但缺点是不易维护，没有维护界面。</li>
</ul>
</li>
</ul>
<p>用户 角色组 权限</p>
<ol start="3">
<li>实现OA系统实现RBAC权限管理<br>1.写在配置文件中config.php文件中<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 角色组</span><br><span class="line">&apos;RBAC_ROLES&apos; = array (</span><br><span class="line">    1 =&gt; &apos;高层管理&apos;,</span><br><span class="line">    2 =&gt; &apos;中层领导&apos;,</span><br><span class="line">    3 =&gt; &apos;普通职员&apos;</span><br><span class="line">),</span><br><span class="line"></span><br><span class="line">// 权限组</span><br><span class="line">&apos;RBAC_ROLE_AUTHS&apos; = array (</span><br><span class="line">    1 =&gt; &apos;*/*&apos;,</span><br><span class="line">    2 =&gt; array(&apos;index/*&apos;,&apos;email/*&apos;, &apos;doc/*&apos;, &apos;knowledge/*&apos;),</span><br><span class="line">    3 =&gt; array(&apos;index/*&apos;,&apos;doc/*&apos;, &apos;knowledge/*&apos;),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>第二步：在指定的地方去根据用户当前的role_id获取当前用户应该拥有的权限。<br>第三步：通过<code>常量</code>的方式获取当前用户访问的路由中的控制器和方法名<br>第四步：判断组成的权限形式是否在权限数组中</p>
<h1 id="十七、项目上线"><a href="#十七、项目上线" class="headerlink" title="十七、项目上线"></a>十七、项目上线</h1><ul>
<li>1.申请空间</li>
<li>2.购买域名</li>
<li>3.将数据库转移到服务器</li>
<li>4.将项目上传到服务器（注意更改数据库配置）</li>
<li>5.线上浏览测试</li>
</ul>
<h4 id="1-申请空间"><a href="#1-申请空间" class="headerlink" title="1.申请空间"></a>1.申请空间</h4><p>主机屋：<a href="http://www.zhujiwu.com/product/freeSpace.html" target="_blank" rel="noopener">http://www.zhujiwu.com/product/freeSpace.html</a></p>
<h4 id="2-购买域名"><a href="#2-购买域名" class="headerlink" title="2.购买域名"></a>2.购买域名</h4><p><a href="http://ftp6224898.host709.zhujiwu.me" target="_blank" rel="noopener">http://ftp6224898.host709.zhujiwu.me</a></p>
<h4 id="3-数据库转移到服务器"><a href="#3-数据库转移到服务器" class="headerlink" title="3.数据库转移到服务器"></a>3.数据库转移到服务器</h4><p>本地导入 -&gt; 导出到远程服务器<br>数据库账号：zjwdb_6224898<br>密码： Hjq562011</p>
<h4 id="4-将项目上传"><a href="#4-将项目上传" class="headerlink" title="4.将项目上传"></a>4.将项目上传</h4><p>ssh</p>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2018年05月14日 10:27</p>
        <p>原始链接： <a class="post-url" href="/2018/05/09/PHP/PHP市面上常用的框架/" title="php常用的框架">https://jqhee.github.io/2018/05/09/PHP/PHP市面上常用的框架/</a></p>
        <footer>
            <a href="https://jqhee.github.io">
                <img src="/images/logo.png" alt="hjq">
                hjq
            </a>
        </footer>
    </div>
</div>

      
        
            

        
    </div>
    <footer class="article-footer">
        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/PHP/" class="color4">PHP</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#一、fetch模板内容获取"><span class="post-toc-text">一、fetch模板内容获取</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#二、模板的注释"><span class="post-toc-text">二、模板的注释</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#三、模板输出对象的属性值-不推荐用点形式-val-id"><span class="post-toc-text">三、模板输出对象的属性值 (不推荐用点形式{$val.id})</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#四、系统变量"><span class="post-toc-text">四、系统变量</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#五、视图中的函数"><span class="post-toc-text">五、视图中的函数</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#六、默认值"><span class="post-toc-text">六、默认值</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#七、文件的包含"><span class="post-toc-text">七、文件的包含</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#八、循环遍历"><span class="post-toc-text">八、循环遍历</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#九、if-标签"><span class="post-toc-text">九、if 标签</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十、php标签"><span class="post-toc-text">十、php标签</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十一、模型的实例化"><span class="post-toc-text">十一、模型的实例化</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十二、第三天"><span class="post-toc-text">十二、第三天</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-跟踪信息"><span class="post-toc-text">1.跟踪信息</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-AR模式"><span class="post-toc-text">2.AR模式</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-辅助方法"><span class="post-toc-text">3.辅助方法</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-统计查询"><span class="post-toc-text">4.统计查询</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-fetchSql拓展"><span class="post-toc-text">5.fetchSql拓展</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6-部门的管理（组织结构）"><span class="post-toc-text">6.部门的管理（组织结构）</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#7-文件自动载入"><span class="post-toc-text">7.文件自动载入</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十三、第四天"><span class="post-toc-text">十三、第四天</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-数据对象的创建"><span class="post-toc-text">1.数据对象的创建</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十四、第五天"><span class="post-toc-text">十四、第五天</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-分页类的基本用法-可以参考手册"><span class="post-toc-text">1.分页类的基本用法(可以参考手册)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-联表查询"><span class="post-toc-text">2.联表查询</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-报表的使用-hightcharts"><span class="post-toc-text">3.报表的使用(hightcharts)</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十五、第六天"><span class="post-toc-text">十五、第六天</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十五、第七天"><span class="post-toc-text">十五、第七天</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-拓展-gt-空操作"><span class="post-toc-text">1.拓展 -&gt; 空操作</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-jquery-中ajax回顾"><span class="post-toc-text">2.jquery 中ajax回顾</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十六、第八天"><span class="post-toc-text">十六、第八天</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-翻墙："><span class="post-toc-text">1.翻墙：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-RBCA"><span class="post-toc-text">2.RBCA</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#十七、项目上线"><span class="post-toc-text">十七、项目上线</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1-申请空间"><span class="post-toc-text">1.申请空间</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-购买域名"><span class="post-toc-text">2.购买域名</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-数据库转移到服务器"><span class="post-toc-text">3.数据库转移到服务器</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-将项目上传"><span class="post-toc-text">4.将项目上传</span></a></li></ol></li></ol></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2018/05/09/PHP/Mysql的学习/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          Mysql学习
        
      </span>
    </a>
  
  
    <a href="/2018/05/09/PHP/Redis/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">Redis</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018 hjq<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "https://jqhee.github.io",
      animate: false,
      isHome: false,
      share: false,
      reward: 0
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/PHP/">PHP</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>首页</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>档案</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Mysql/" style="font-size: 10px;">Mysql</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>








  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>